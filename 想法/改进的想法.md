# 改进的想法

* 现在集成计算服务是需要手动在整个计算服务提供端添加代码的。
  		① 这种方式的弊端代码量多了之后不好维护，计算端开发者操作复杂。

  ​	    ② 不能够存在两个计算操作（option）之前存在需要的包版本不同

  ​		③ 不能够热插拔，不能够动态的管理

  **解决办法**

  使用微服务注册中心的概念，每个算法是一个单独的服务，每一个单独的服务后期可直接打包为一个单独的docker容器。可写一个admin来进行服务的管理，可动态的配置服务的启用、禁用、删除、添加等。开发者开发完成一个服务之后直接自己在服务器上部署上去或者是直接在admin上提交指定规范的代码包和Dockerfile并输入必要的参数之后服务便可动态集成。

  

* 现在task队列的消费是存到队列里去，每过10s就检测一次队列是否为空，如果队列不为空的话就把task队列里面的任务全部拿出来执行

  ​	   ① 消耗资源，没过10s就要检测一下，而且容易出问题。

  ​	   ② 后期如果要多个实例机器同时处理task的话这种队列的方式就会出现问题。

  **解决办法** 

  使用mq消息队列的方式进行task队列的存储，有task封装完成就直接把task发送到队列里。消息接收端接收到数据之后就开始处理。

  并且mq的queue还实现了负载均衡，一个生产者可以对应多个消费者。  拟采用rabbitmq

  （后面如果http方式并不是很好的话 服务调用可采用rabbitmq。具体实现方式还没看）

  ![Image](https://img-blog.csdn.net/20170816171523564?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvb01hdmVyaWNrMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

